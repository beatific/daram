<meta charset="utf-8">
<html>
<head>
    <title>Chart</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF8">
    <script src="js/angular.js"></script>
    <script type="text/javascript" src="googlejs/googlechart.js"></script>
    <script type="text/javascript" src="googlejs/monitor.js"></script>   
    <link rel="stylesheet" href="stylesheets/daram.css"/>
    <script>
        var app = angular.module("nvd3TestApp",[])

        var memory = [];
        function ExampleCtrl($scope, $http){
        	
            $scope.time = {};
            
            $scope.getGraphs = function() {
            	$http({
            	     method: 'POST',
           			 url: 'http://localhost:8081/daram-web/monitor/graph',
           			 headers: {
           			   'Content-Type': 'application/json; charset=UTF-8'
           			 },
           			 data : {'fromTime' : $scope.time.from, 'toTime' : $scope.time.to }}
            			).success(function(data) {
            				drawChart(data.Memory, 'memory', data.MemoryxTag, data.MemoryyTag, data.MemoryDenomination);
            				drawChart(data.Threads, 'threads',data.ThreadsxTag, data.ThreadsyTag, data.ThreadsDenomination);
            				drawChart(data.CPU, 'cpu', data.CPUxTag, data.CPUyTag, data.CPUDenomination);
            				drawChart(data.Class, 'class', data.ClassxTag, data.ClassyTag, data.ClassDenomination);
            			
            		});
            }

        }
    </script>

</head>
<body ng-app='nvd3TestApp'>

<div ng-controller="ExampleCtrl">
    <form name='monitorForm'>
        <div>From time : <input ng-model='time.from' required> ~ To time : <input ng-model='time.to' required> <button ng-click='getGraphs()' ng-disabled='!monitorForm.$valid'>submit</button></div>
    </ng-form>
    <table>
    <tr>
    <td>
    <div id="memory"></div>
    </td>
    <td>
    <div id="threads"></div>
    </td>
    </tr>
    <tr>
    <td>
   <div id="cpu"></div>
    </td>
    <td>
   <div id="class"></div>
    </td>
    </tr>
    </table>
</div>

</body>
</html>